<div class="col-xs-12 col-md-12 col-lg-12 col-xl-12 v-offset-bottom-15px">
    <div class="col-xs-12 col-md-12 col-lg-12 col-xl-12 ibox-title">
        <div class="col-sm-10 col-md-10 col-lg-10 col-xl-10 dashed-box">
            <h5 class="col-xs-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 col-sm-offset-3 col-md-offset-3 col-lg-offset-3 col-xl-offset-3">
                <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10 col-xl-10">{{panel.title}}</div>
                <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 col-xl-2 align-right">{{panel.service.reports.length}}</div>
            </h5>
        </div>
        <div class="col-sm-1 col-md-1 col-lg-1 col-xl-1">
            <a class="btn btn-md bordered" href="javascript:;" ng-show="panel.open" ng-click="collapseOpen();"><span class="glyphicon glyphicon-minus"></span></a>
            <a class="btn btn-md bordered" href="javascript:;" ng-hide="panel.open" ng-click="collapseOpen();"><span class="glyphicon glyphicon-plus"></span></a>
        </div>
    </div>
    <div ng-show="panel.open" class="ibox-content no-padding"  ng-class="{'tiles-list-view':panel.service.listView}">
        <div class="container-fluid"
             infinite-scroll='panel.service.loadReports(panel.parameter1,panel.parameter2)' 
             infinite-scroll-distance='1' 
             infinite-scroll-disabled='panel.service.loadmoredisable' 

             infinite-scroll-immediate-check='true'
             >
            <div class="row" >
                <div ng-class="panel.class_names" class="col-sm-4 col-md-3 col-lg-2 col-xl-2" ng-repeat="report in (mostviewed = (panel.service.reports| limitTo:panel.limit))">
                    <a ng-href="BITool/admin/externalrepo/downloadreport/{{report.sourceReportId}}" title="{{report.reportDesc}}" ng-show="externalUrl">
                        <div class="panel panel-primary reports-box">
                            <load-tile-image></load-tile-image>
                            <div class="panel-footer">
                                <span class="pull-left wrap-reportname">{{report.name}} </span>
                                <div class="clearfix"></div>
                            </div>
                        </div>
                    </a>
                    <a ng-href="#/reports/{{report.levelId}}/{{report.id}}/report"  title="{{report.reportDesc}}" ng-hide="externalUrl">
                        <div class="panel panel-primary reports-box" ng-class="{'refresh-status-icon-green-bottom': report.refreshStatus === 'Y' }">
                            <load-tile-image></load-tile-image>
                            <!--div class="tile-hover-div"></div>
                            <div class="tile-hover-div-search"></div -->
                            <div class="panel-footer">
                                <span class="pull-left wrap-reportname">{{report.name}} </span>
                                <div class="clearfix"></div>
                            </div>
                        </div>
                    </a>

                    <div class="footer-links">
                        <div class="open-exteranl" title="Open in new window/tab" >
                            <a ng-show="report.type.toLowerCase() === 'tableau'" href="{{report.reportLink}}?:embed=y&:showVizHome=n&:apiID=handler0" target="_blank">
                                <img src="images/resources-icon-link.jpg">
                            </a>
                            <a ng-show="report.type.toLowerCase() !== 'tableau'" href="{{report.reportLink}}" target="_blank"><img src="images/resources-icon-link.jpg"></a>
                        </div>
                        <div class="favorite-button" ng-click="changeFavorite(report)" ng-class="{'favorite-selected': report.favorite === 'Y' }" title="Make this Report favorite" ></div>
                    </div>
                    <div class="refresh-status-icon" ng-class="{'refresh-status-icon-green': report.refreshStatus === 'Y' }" >
                    </div>
                </div>
                <p ng-show="panel.pesonaError" class="text-center persona-error col-sm-12 col-md-12 col-lg-10 col-xl-10 text-center">
                    <span ng-show="panel.pesonaError">
                        {{panel.pesonaError}}.
                    </span>
                </p>
                <p ng-show="panel.service.reports.length === 0" class="col-sm-12 col-md-12 col-lg-10 col-xl-10 text-center">
                    <span ng-show="panel.rr">
                        There are no available reports for this persona.
                    </span>
                </p>
            </div>
            <div class="row pull-right view-more" ng-show="panel.levelLink">
                <a ui-sref="reports.details({levelId:panel.levelLink})">View More</a>
            </div>
        </div>
    </div>
</div>